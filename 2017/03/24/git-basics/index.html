<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><meta name="google-site-verification" content="QedM6AWTG5gNUa8QWkA2fmBSzxwGSKp-0eKRSy50ni0"/><meta name="description" content="git basics"/><meta name="keywords" content="git, git branch, git snapshot, git tag"/><link href="/blog/dist/theme.d25b49301e0e.css" rel="stylesheet"/><link href="/blog/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet"/><link href="/blog/fancybox-3.0/dist/jquery.fancybox.min.css" rel="stylesheet"/><script src="/blog/libs/jquery-3.1.1.min.js"></script><title>Lencx's blog | Git Basics</title><script>var BLOG={ROOT:/blog/}</script></head><body><header><a class="logo" href="/" style="background: url(/blog/img/logo.png) 100%/cover no-repeat"></a><ul class="menus"><li><i class="fa fa-home"></i><a href="/blog/">Home</a></li><li><i class="fa fa-archive"></i><a href="/blog/archives">Archives</a></li><li><i class="fa fa-th-large"></i><a href="/blog/categories">Categories</a></li><li><i class="fa fa-tags"></i><a href="/blog/tags">Tags</a></li><li><i class="fa fa-address-book"></i><a href="/blog/about">About</a></li></ul><div class="menu-ico"><span class="ico-t"></span><span class="ico-m"></span><span class="ico-b"></span></div><div id="search"><input type="search" placeholder="Search ..."/><ul class="result"></ul><template id="searchTpl"><li class="item"><a href="{path}"><h3 class="search-title" title="{title}">{title}</h3><div class="tags">{tags}</div><time class="time">{date}</time></a></li></template></div></header><div class="container"><article class="post-content"><h2 class="post-title">Git Basics</h2><div class="post-meta"><span class="author"><i class="fa fa-user-circle-o"></i><a href="https://lencx.github.io/blog/about">Len C...</a></span><span class="date"><i class="fa fa-calendar"></i>2017-03-24</span><span class="updated"><i class="fa fa-refresh"></i>2017/03/31</span><span class="category"><i class="fa fa-th-large"></i><a href="/blog/categories/git/">git</a></span><a class="tag" href="/blog/tags/Tricks/"><i></i>Tricks</a><a class="tag" href="/blog/tags/command/"><i></i>command</a><a class="tag" href="/blog/tags/git/"><i></i>git</a></div><div class="post-conent"><h2 id="File-status-lifecycle"><a href="#File-status-lifecycle" class="headerlink" title="File status lifecycle"></a>File status lifecycle</h2><blockquote>
<p>文件状态的生命周期<br><img src="/blog/images/git/git-file-status.png" alt="file status"></p>
</blockquote>
<a id="more"></a>
<h2 id="Basics-command"><a href="#Basics-command" class="headerlink" title="Basics command"></a>Basics command</h2><blockquote>
<p>基础命令</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># Getting started</span></div><div class="line">git config --global user.name <span class="string">"your name"</span></div><div class="line">git config --global user.email <span class="string">"your@email"</span></div><div class="line"></div><div class="line"><span class="comment"># initializes a directory as a git repository</span></div><div class="line">git init</div><div class="line"><span class="comment"># view the status of your files in the working directory and staging area</span></div><div class="line">git status</div><div class="line"><span class="comment"># adds file contents to the staging area</span></div><div class="line"><span class="comment">## git add -A</span></div><div class="line"><span class="comment">## or </span></div><div class="line"><span class="comment">## git add .</span></div><div class="line">git add</div><div class="line"><span class="comment"># shows diff of what is staged and what is modified but unstaged</span></div><div class="line"><span class="comment">## git diff --staged # 查看暂存区变化</span></div><div class="line">git diff</div><div class="line"><span class="comment"># records a snapshot of the staging area</span></div><div class="line"><span class="comment"># git commit -m "msg"</span></div><div class="line">git commit</div><div class="line"><span class="comment"># add &amp; commit 合二为一， 前提是必须正常提交过一次才能使用</span></div><div class="line">git commit <span class="_">-a</span> -m <span class="string">"msg"</span></div><div class="line"><span class="comment"># remove files from the staging area</span></div><div class="line"><span class="comment">## git rm &lt;file name&gt; # 从暂存区将文件移除</span></div><div class="line">git rm</div><div class="line"><span class="comment"># git rm --cached orig; mv orig new; git add new</span></div><div class="line"><span class="comment">## git mv &lt;old filename&gt; &lt;new filename&gt; # staging area changed</span></div><div class="line">git mv</div><div class="line"><span class="comment"># show commit history of a branch</span></div><div class="line">git <span class="built_in">log</span></div></pre></td></tr></table></figure>
<h2 id="Working-with-remotes"><a href="#Working-with-remotes" class="headerlink" title="Working with remotes"></a>Working with remotes</h2><blockquote>
<p>远端</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># copy a git repository</span></div><div class="line">git <span class="built_in">clone</span> URL</div><div class="line"><span class="comment"># list, add and delete remote repository aliases</span></div><div class="line">git remote</div><div class="line"><span class="comment"># download new brabches and data from a remote repository</span></div><div class="line">git fetch</div><div class="line"><span class="comment"># merge a bash context into your current one</span></div><div class="line">git merge</div><div class="line"><span class="comment"># fetch from a remote repo and try to merge into the current branch</span></div><div class="line">git pull</div><div class="line"><span class="comment"># push your new branches and data to a remote repository</span></div><div class="line">git push</div></pre></td></tr></table></figure>
<h2 id="Taging"><a href="#Taging" class="headerlink" title="Taging"></a>Taging</h2><blockquote>
<p>标签</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># listing tags</span></div><div class="line">git tag</div><div class="line"><span class="comment"># create tag</span></div><div class="line">git tag <span class="_">-a</span> v1.0 -m <span class="string">"my version 1.0"</span></div><div class="line"><span class="comment"># showing tag data along with commit</span></div><div class="line">git show v1.0</div><div class="line"><span class="comment"># tagging later</span></div><div class="line">git tag <span class="_">-a</span> v0.9 -m <span class="string">"version 0.9"</span> [commit]</div><div class="line"><span class="comment"># sharing tags</span></div><div class="line">git push origin [tagname]</div><div class="line"><span class="comment"># If you have a lot of tags that you want to push up at once.</span></div><div class="line"><span class="comment"># 一次推送多个tag</span></div><div class="line">git push origin --tags</div><div class="line"><span class="comment"># delete local tag</span></div><div class="line">git tag <span class="_">-d</span> [tagname]</div><div class="line"><span class="comment"># delete origin tag</span></div><div class="line">git push origin :refs/tags/[tagname]</div></pre></td></tr></table></figure>
<h2 id="Git-configuration-file"><a href="#Git-configuration-file" class="headerlink" title="Git configuration file"></a>Git configuration file</h2><blockquote>
<p>git配置文件： <code>~/.gitconfig(or ~/.config/git/config)</code></p>
<ul>
<li>user[用户]</li>
<li>alias[别名]</li>
<li>core.editor[核心编辑器]</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">[user]</div><div class="line">      name = Len</div><div class="line">      email = cxin1314@gmail.com</div><div class="line">[alias]</div><div class="line">      st = status</div><div class="line">      ci = commit</div><div class="line">      co = checkout</div><div class="line">      br = branch</div><div class="line">      df = diff</div><div class="line">      lg = log --color --graph --pretty=format:&apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&apos; --abbrev-commit</div><div class="line">      last = log --color --graph --pretty=format:&apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&apos; --abbrev-commit -1 HEAD</div><div class="line">[core]</div><div class="line">      editor = emacs</div></pre></td></tr></table></figure>
<h2 id="Snapshot"><a href="#Snapshot" class="headerlink" title="Snapshot"></a>Snapshot</h2><blockquote>
<p>git 是基于快照的，即文件改变，将该文件全部进行保存，<code>blob</code>改变，该文件所属的目录<code>tree</code>也改变<br>tree: 目录(dir)<br>blob: 文件(file)</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> .git/objects</div><div class="line">git cat-file -p &lt;SHA-1&gt;</div></pre></td></tr></table></figure>
<p><img src="/blog/images/git/git-hash-1.png" alt="git hash 1"><br><img src="/blog/images/git/git-hash-2.png" alt="git hash 2"><br><img src="/blog/images/git/git-hash-3.png" alt="git hash 3"><br><img src="/blog/images/git/git-hash-4.png" alt="git hash 4"></p>
<blockquote>
<p>从以上的操作可以总结出如下的结论：<br><img src="/blog/images/git/git-snapshot.png" alt="git snapshot"><br><img src="/blog/images/git/git-branch.png" alt="git branch"></p>
</blockquote>
<h2 id="Branch"><a href="#Branch" class="headerlink" title="Branch"></a>Branch</h2><blockquote>
<p>分支创建与删除<br>只需要将<code>master</code>文件中的内容重新复制到新文件中，即创建了一条新的分支，删除分支只需删除该文件即可。<br><img src="/blog/images/git/git-branch-2.png" alt="git branch"><br>分支切换原理：修改<code>HEAD</code>文件<br><img src="/blog/images/git/git-checkout-branch.png" alt="git branch checkout"><br><img src="/blog/images/git/git-branch-master.png" alt="git branch master"></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># list, create and delete branches</span></div><div class="line">git branch -</div><div class="line"><span class="comment">## delete branch</span></div><div class="line">git branch <span class="_">-d</span> [branchname]</div><div class="line"><span class="comment">## forced to delete</span></div><div class="line">git branch -D [branchname]</div><div class="line"></div><div class="line"><span class="comment"># switch to a new branch context</span></div><div class="line">git checkout -</div><div class="line"><span class="comment">## create and switch branch</span></div><div class="line">git checkout -b [branchname]</div><div class="line"><span class="comment"># tracking remote branches</span></div><div class="line">git checkout --track origin/serverfix</div><div class="line">git checkout -b sf origin/serverfix</div><div class="line"></div><div class="line"><span class="comment"># merge a branch context into your current one</span></div><div class="line">git merge</div><div class="line"><span class="comment"># fast-forward merge</span></div><div class="line"><span class="comment"># fix conflict</span></div><div class="line">git rebase master [branchname]</div><div class="line">git checkout master</div><div class="line">git merge [branchname]</div><div class="line">git branch --merged</div><div class="line">git branch --no-merged</div><div class="line">git rebase --continue</div><div class="line"><span class="comment"># apply the changes introduced by some existing commits</span></div><div class="line"><span class="comment">## git cherry-pick [commit]</span></div><div class="line">git cherry-pick -</div></pre></td></tr></table></figure>
<h2 id="Undoing-Things"><a href="#Undoing-Things" class="headerlink" title="Undoing Things"></a>Undoing Things</h2><blockquote>
<p>撤销<br><strong>⚠️： <code>git checkout --</code> is dangerous. May be <code>git stash</code> is better.</strong><br>$ git stash apply</p>
</blockquote>
<p><img src="/blog/images/git/git-undoing.png" alt="git undoing"></p>
<h2 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h2><blockquote>
<p>git 忽略文件及目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">*~</div><div class="line">.DS_Store</div><div class="line">.idea</div><div class="line">.vscode</div><div class="line">/node_modules</div></pre></td></tr></table></figure></p>
</blockquote>
</div></article><aside class="post-toc"><h2 id="toc-title">CONTENT<i class="fa fa-chevron-circle-down"></i></h2><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#File-status-lifecycle"><span class="toc-number">1.</span> <span class="toc-text">File status lifecycle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Basics-command"><span class="toc-number">2.</span> <span class="toc-text">Basics command</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Working-with-remotes"><span class="toc-number">3.</span> <span class="toc-text">Working with remotes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Taging"><span class="toc-number">4.</span> <span class="toc-text">Taging</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Git-configuration-file"><span class="toc-number">5.</span> <span class="toc-text">Git configuration file</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Snapshot"><span class="toc-number">6.</span> <span class="toc-text">Snapshot</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Branch"><span class="toc-number">7.</span> <span class="toc-text">Branch</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Undoing-Things"><span class="toc-number">8.</span> <span class="toc-text">Undoing Things</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#gitignore"><span class="toc-number">9.</span> <span class="toc-text">.gitignore</span></a></li></ol></aside><div class="post-pagination"><div class="pagination"><a class="prev-post" href="/blog/2017/03/24/command/" title="Mac command"><i class="fa fa-chevron-circle-left"></i>Mac command</a><a class="next-post" href="/blog/2017/03/22/hexo-post/" title="hexo常见问题汇总">hexo常见问题汇总<i class="fa fa-chevron-circle-right"></i></a></div></div><footer class="post-foot"><div class="post-comment"><div id="disqus_thread"></div><div id="disqus-loader-error"><span class="disqus-loader-bg"><span class="disqus-loader-animat"></span></span><p align="center">Disqus due to network reasons, can not be loaded.</p></div><script>var disqus_shortname='lencx';(function(){var d=document,s=d.createElement('script');s.src='https://'+disqus_shortname+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})()</script><noscript>Please enable JavaScript to view the<a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></footer></div><span class="fa fa-angle-double-up" id="back-to-top"></span><footer><div class="social"><a href="https://github.com/lencx" title="github"><i class="fa fa-github"></i><strong><font color="#24292e">G</font><font color="#24292e">i</font><font color="#24292e">t</font><font color="#24292e">H</font><font color="#24292e">u</font><font color="#24292e">b</font></strong></a><a href="https://twitter.com/lencx_" title="twitter"><i class="fa fa-twitter"></i><strong><font color="#1da1f2">t</font><font color="#1da1f2">w</font><font color="#1da1f2">i</font><font color="#1da1f2">t</font><font color="#1da1f2">t</font><font color="#1da1f2">e</font><font color="#1da1f2">r</font></strong></a><a href="Mailto:cxin1314@gmail.com" title="email"><i class="fa fa-envelope"></i><strong><font color="#4285f4">G</font><font color="#ea4335">m</font><font color="#fbbc05">a</font><font color="#757575">i</font><font color="#34a853">l</font></strong></a><a href="/blog/atom.xml" title="RSS"><i class="fa fa-rss-square"></i><strong><font color="#ce6833">R</font><font color="#d6853e">S</font><font color="#d6a03e">S</font></strong></a></div><div class="copyright"><p><span class="copy">&copy;</span>2017&nbsp;<a class="author" href="https://lencx.github.io/blog">Len C...</a>, Powered by <a class="hexo" href="https://hexo.io" target="_blank">Hexo </a>&nbsp;and &nbsp;<a class="lencx" href="https://github.com/lencx/hexo-theme-lencx" target="_blank">hexo-theme-lencx.</a></p></div></footer><script src="/blog/libs/search.min.js"></script><script src="/blog/dist/main.6c64056cca7d.js"></script><script src="/blog/fancybox-3.0/dist/jquery.fancybox.min.js"></script><script src="/blog/libs/tagcloudbg.min.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create', 'UA-92360738-1', 'auto');ga('send', 'pageview');</script></body></html>